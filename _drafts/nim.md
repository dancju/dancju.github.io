# 博弈論簡介

## Nim 博弈

今有 `n` 堆石子，兩玩家輪流決策。每次決策中，玩家從任意一堆中取任意多顆（至少一顆）石子。當某玩家沒有石子可取時，此玩家輸。

假設在一個兩堆石子 `(1, 2)` 的 Nim 博弈中趙錢二人對弈。趙先手，從第二堆中取走一枚，使之成爲 `(1, 1)`；然後錢使之成爲 `(1)`；然後趙使之成爲 `ø`。此時錢沒有石頭可取，輸掉對弈。

## 定義

### 博弈

// TODO 對於所有 game 還是對於某種 game？

這種博弈滿足以下定義：

1. 兩玩家輪流決策；
1. 兩玩家的決策是能使儘量自己勝出的最優決策；
1. 兩玩家受限於相同的規則，但其中一個玩家爲先手另一個爲後手；
1. 對弈總能在有限輪後結束。

### 狀態與決策

在博弈中任何一個局面通常可以記爲一個形式化的狀態。在前述的 Nim 博弈中這個狀態是一個由整數組成的多元組，其中每個整數表示每堆石子中石子的數量。

如果把決策視作狀態之間的轉移，顯然狀態與決策可以構成一個 DAG（又向無環圖）。

### 必勝態與必敗態

每個狀態要麼是必勝態要麼是必敗態。在博弈論中不存在平局。必勝態與必敗態定義如下：

__必勝態 is a state which ...__

__必敗態 is a state which ...__

由於我們假設兩玩家絕對明智且永遠作出最優的決策，故某個狀態是必勝態或是必敗態只依賴於每堆石子中的石子數量而與決策無關。如果你對「最優的決策」是否存在感到疑惑（我糾結了很久），請繼續往下讀。

## 基本判定定理

關於必勝態與必敗態有以下三條基本定理。

在 Nim 博弈中，末態（即石子全部取盡的狀態）是必敗態。對於一般的博弈，有如下定理：

__末態（即沒有後繼的狀態）根據對弈規則爲必勝態或必敗態。__
（定理一）

假設現在趙面臨一個狀態，他可以做一個決策使之轉變爲必敗態。這個決策顯然是最優的，因爲一旦他這麼做，錢就輸了。根據定義，當前狀態是必勝態。對於一般的博弈，有如下定理：

__若某非末態存在一個必敗態後繼，則此狀態爲必勝態。__
（定理二）

假設現在趙面臨一個狀態，很不幸，不論他怎樣做，後繼狀態都是必勝態。那麼不論他怎樣做，錢都會採取最優策略讓他輸。對於一般的博弈，有如下定理：

__若某非末態的所有後繼都是必勝態，則此狀態爲必敗態。__
（定理三）

由於以上三個定理覆蓋了所有的狀態，可以推出定理二與定理三的逆命題也成立。

現在，我們利用以上三條定理來判斷所給例子中個狀態是必勝態還是必敗態。

1. `ø` 作爲末態，是必敗態；
1. `(1)` 只有一個後繼且是必敗態，所以是必勝態；
1. `(1, 1)` 只有一個後繼且是必勝態，所以是必敗態；
1. `(1, 2)` 有三個後繼，其中 `(1, 1)` 是必敗態，所以是必勝態。



## 必敗態集的判定
